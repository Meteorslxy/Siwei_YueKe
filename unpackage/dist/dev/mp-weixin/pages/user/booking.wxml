<view class="booking-container"><view class="tab-bar"><block wx:for="{{$root.l0}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeTab',['$0'],[[['tabs','',index,'value']]]]]]]}}" class="{{['tab-item',(currentStatus===tab.$orig.value)?'active':'']}}" bindtap="__e">{{''+tab.$orig.label+''}}<block wx:if="{{tab.m0>0}}"><view class="badge">{{tab.m1}}</view></block></view></block></view><view class="booking-list"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index"><view data-event-opts="{{[['tap',[['viewDetail',['$0'],[[['filteredBookingList','_id||index',item.$orig._id||index]]]]]]]}}" class="booking-item" bindtap="__e"><view class="booking-header"><view class="course-title">{{item.$orig.courseTitle}}</view><view class="{{['booking-status','status-'+item.$orig.status]}}">{{item.m2}}</view></view><view class="booking-info"><view class="info-row"><text class="info-label">预约编号：</text><text class="info-value">{{item.$orig.bookingId}}</text></view><view class="info-row"><text class="info-label">课程时间：</text><text class="info-value">{{item.m3}}</text></view><view class="info-row"><text class="info-label">校区地点：</text><text class="info-value">{{item.$orig.schoolName}}</text></view><view class="info-row"><text class="info-label">学生姓名：</text><text class="info-value">{{item.$orig.studentName}}</text></view><view class="info-row"><text class="info-label">联系电话：</text><text class="info-value">{{item.$orig.contactPhone}}</text></view></view><view class="booking-footer"><view class="booking-time">{{item.m4}}</view><view class="booking-actions"><block wx:if="{{item.$orig&&item.$orig.status!=='cancelled'&&item.$orig.status!=='finished'}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="action-btn primary" catchtap="__e">取消预约</view></block><block wx:if="{{item.$orig&&(item.$orig.status==='confirmed'||item.$orig.status==='confirmed_unpaid')}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="action-btn" catchtap="__e">联系老师</view></block><block wx:if="{{item.$orig&&item.$orig.status!=='cancelled'}}"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="action-btn" catchtap="__e">查看课程</view></block></view></view></view></block><load-more vue-id="5bb75a38-1" status="{{loadMoreStatus}}" data-event-opts="{{[['^click',[['loadMore']]]]}}" bind:click="__e" bind:__l="__l"></load-more><block wx:if="{{$root.g0===0}}"><empty-tip vue-id="5bb75a38-2" tip="{{$root.m5}}" bind:__l="__l"></empty-tip></block></view></view>