<view class="booking-container"><view class="tab-bar"><block wx:for="{{$root.l0}}" wx:for-item="tab" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeTab',['$0'],[[['tabs','',index,'value']]]]]]]}}" class="{{['tab-item',(currentStatus===tab.$orig.value)?'active':'']}}" bindtap="__e">{{''+tab.$orig.label+''}}<block wx:if="{{tab.m0>0}}"><view class="badge">{{tab.m1}}</view></block></view></block></view><view class="booking-list"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="booking-item" data-booking-id="{{item.$orig._id}}" data-course-id="{{item.$orig.courseId}}" data-event-opts="{{[['tap',[['viewDetail',['$0','$event'],[[['filteredBookingList','',index]]]]]]]}}" bindtap="__e"><view class="booking-content"><view class="booking-main"><view class="course-info"><view class="course-title">{{item.$orig.courseTitle}}</view><view class="{{['booking-status','status-'+item.$orig.status]}}">{{item.m2}}</view><block wx:if="{{item.$orig.isCourseDeleted}}"><view class="course-deleted-tag">课程已删除</view></block></view><view class="booking-details"><view class="details-column left-column"><view class="detail-row"><text class="detail-label">预约编号</text><text class="detail-value">{{item.$orig.bookingId}}</text></view><view class="detail-row"><text class="detail-label">课程时间</text><text class="detail-value">{{item.m3}}</text></view><view class="detail-row"><text class="detail-label">校区地点</text><text class="detail-value">{{item.$orig.schoolName}}</text></view></view><view class="details-column right-column"><view class="detail-row"><text class="detail-label">学生姓名</text><text class="detail-value">{{item.$orig.studentName}}</text></view><view class="detail-row"><text class="detail-label">联系电话</text><text class="detail-value">{{item.$orig.contactPhone||'暂无'}}</text></view></view></view><view class="booking-time">{{''+item.m4+''}}</view></view></view><block wx:if="{{item.m5}}"><view class="booking-footer"><view class="booking-actions"><block wx:if="{{item.$orig&&item.$orig.status!=='cancelled'&&item.$orig.status!=='finished'}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="action-btn primary" catchtap="__e">取消预约</view></block><block wx:if="{{item.m6}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="action-btn" catchtap="__e">联系老师</view></block></view></view></block></view></block><load-more vue-id="5bb75a38-1" status="{{loadMoreStatus}}" data-event-opts="{{[['^click',[['loadMore']]]]}}" bind:click="__e" bind:__l="__l"></load-more><block wx:if="{{$root.g0===0}}"><empty-tip vue-id="5bb75a38-2" tip="{{$root.m7}}" bind:__l="__l"></empty-tip></block></view></view>