<view class="user-container"><view class="user-info-section"><view class="user-bg"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-button" bindtap="__e"><text>←</text></view><view data-event-opts="{{[['tap',[['reload',['$event']]]]]}}" class="refresh-button" bindtap="__e"><text>⟳</text></view></view><view class="user-info"><view class="avatar-wrap"><image class="user-avatar" src="{{userInfo.avatarUrl||'/static/images/avatar.jpg'}}" mode="aspectFill"></image></view><view class="user-detail"><block wx:if="{{hasUserInfo}}"><text class="user-name">{{$root.m0}}</text></block><block wx:else><button data-event-opts="{{[['tap',[['getUserProfile',['$event']]]]]}}" class="login-btn" bindtap="__e">点击登录</button></block><block wx:if="{{hasUserInfo}}"><button data-event-opts="{{[['tap',[['navigateTo',['/pages/user/profile/index']]]]]}}" class="edit-profile-btn" bindtap="__e">编辑资料</button></block></view></view></view><block wx:if="{{!hasContent}}"><view class="reload-container"><image src="/static/images/empty.png" mode="aspectFit"></image><text>内容加载失败</text><button data-event-opts="{{[['tap',[['reload',['$event']]]]]}}" class="reload-btn" bindtap="__e">点击重新加载</button></view></block><block wx:else><view class="menu-section"><view class="menu-group"><view class="menu-title">我的预约<text data-event-opts="{{[['tap',[['refreshBookingCount',['$event']]]]]}}" class="refresh-link" bindtap="__e">刷新</text></view><view class="booking-tab-wrapper"><view class="booking-tabs"><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/booking?status=all']]]]]}}" class="booking-tab-item" bindtap="__e"><image class="tab-icon" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/my/all.png" mode="aspectFit" data-event-opts="{{[['error',[['handleImageError',['$event']]]]]}}" binderror="__e"></image><text class="tab-text">全部</text><block wx:if="{{bookingCounts.all>0}}"><text class="tab-badge">{{bookingCounts.all}}</text></block></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/booking?status=usable']]]]]}}" class="booking-tab-item" bindtap="__e"><image class="tab-icon" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/my/use.png" mode="aspectFit" data-event-opts="{{[['error',[['handleImageError',['$event']]]]]}}" binderror="__e"></image><text class="tab-text">可使用</text><block wx:if="{{bookingCounts.usable>0}}"><text class="tab-badge">{{bookingCounts.usable}}</text></block></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/booking?status=expired']]]]]}}" class="booking-tab-item" bindtap="__e"><image class="tab-icon" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/my/out.png" mode="aspectFit" data-event-opts="{{[['error',[['handleImageError',['$event']]]]]}}" binderror="__e"></image><text class="tab-text">已完成</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/booking?status=canceled']]]]]}}" class="booking-tab-item" bindtap="__e"><image class="tab-icon" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/my/cancal.png" mode="aspectFit" data-event-opts="{{[['error',[['handleImageError',['$event']]]]]}}" binderror="__e"></image><text class="tab-text">已取消</text><block wx:if="{{bookingCounts.canceled>0}}"><text class="tab-badge">{{bookingCounts.canceled}}</text></block></view></view></view></view><view class="menu-group"><view class="menu-title">学习服务</view><view class="menu-content grid-layout"><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/calendar']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/日历-c.png" mode="aspectFit"></image><text class="item-text">课程日历</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/course/course']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/课程-c.png" mode="aspectFit"></image><text class="item-text">全部课程</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/news/index']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/通知-c.png" mode="aspectFit"></image><text class="item-text">课程通知</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/course/manage']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/资料-c.png" mode="aspectFit"></image><text class="item-text">课程管理</text></view></view></view><view class="menu-group"><view class="menu-title">我的服务</view><view class="menu-content grid-layout"><view data-event-opts="{{[['tap',[['navigateTo',['/pages/cart/index']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/我的收藏-c.png" mode="aspectFit"></image><text class="item-text">购物车</text></view><view data-event-opts="{{[['tap',[['openFeedback',['$event']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/意见反馈-c.png" mode="aspectFit"></image><text class="item-text">意见反馈</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/about/index']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/关于我们-c.png" mode="aspectFit"></image><text class="item-text">关于我们</text></view><view data-event-opts="{{[['tap',[['navigateTo',['/pages/user/setting/index']]]]]}}" class="menu-item" bindtap="__e"><image class="item-icon-img" src="https://mp-a876f469-bab5-46b7-8863-2e7147900fdd.cdn.bspapp.com/icons/设置-c.png" mode="aspectFit"></image><text class="item-text">设置</text></view></view></view><block wx:if="{{isDev}}"><view class="menu-group"><view class="menu-title">测试功能</view><view class="menu-list"><view data-event-opts="{{[['tap',[['testUniIdPages',['login']]]]]}}" class="menu-list-item test-btn" bindtap="__e"><text class="list-icon iconfont icon-user"></text><text class="list-text">测试统一登录</text><text class="list-arrow">></text></view><view data-event-opts="{{[['tap',[['testUniIdPages',['register']]]]]}}" class="menu-list-item test-btn" bindtap="__e"><text class="list-icon iconfont icon-user"></text><text class="list-text">测试统一注册</text><text class="list-arrow">></text></view><view data-event-opts="{{[['tap',[['testUniIdPages',['profile']]]]]}}" class="menu-list-item test-btn" bindtap="__e"><text class="list-icon iconfont icon-user"></text><text class="list-text">测试个人资料</text><text class="list-arrow">></text></view></view></view></block></view></block><view class="bottom-area"><block wx:if="{{hasUserInfo}}"><view data-event-opts="{{[['tap',[['logout',['$event']]]]]}}" class="logout-btn" bindtap="__e">退出登录</view></block><view class="safe-area-bottom"></view></view><student-name-modal class="vue-ref" vue-id="380011e0-1" data-ref="studentNameModal" bind:__l="__l"></student-name-modal></view>