<view class="import-data"><view class="header"><text class="title">数据导入工具</text><text class="subtitle">集合不存在时会自动创建</text></view><view class="section help-section"><view class="section-title">使用说明</view><view class="help-content"><view class="help-item">1. 选择需要导入的数据集合</view><view class="help-item">2. 选择是否清空现有数据</view><view class="help-item">3. 点击"导入数据"按钮开始导入</view><view class="help-item">4. 导入完成后，数据将直接存储在云数据库中</view><view class="help-item">5. 在开发模式下，可以使用useMock=false切换到真实数据</view></view></view><view class="section"><view class="section-title">导入选项</view><view class="form-item"><text class="label">选择集合</text><picker class="picker" value="{{collectionIndex}}" range="{{collections}}" data-event-opts="{{[['change',[['onCollectionChange',['$event']]]]]}}" bindchange="__e"><view class="picker-text">{{collections[collectionIndex]}}</view></picker></view><view class="form-item"><text class="label">是否清空现有数据</text><switch checked="{{clearExisting}}" color="var(--theme-color)" data-event-opts="{{[['change',[['onClearChange',['$event']]]]]}}" bindchange="__e"></switch></view></view><view class="section"><view class="section-title">操作</view><view class="button-group"><button class="import-btn" loading="{{importing}}" disabled="{{importing}}" data-event-opts="{{[['tap',[['importData',['$event']]]]]}}" bindtap="__e">{{''+(importing?'导入中...':'导入数据')+''}}</button></view></view><block wx:if="{{$root.g0>0}}"><view class="section"><view class="section-title">操作日志</view><view class="log-list"><block wx:for="{{logs}}" wx:for-item="log" wx:for-index="index" wx:key="index"><view class="{{['log-item',(log.type==='success')?'log-success':'',(log.type==='error')?'log-error':'']}}"><text class="log-time">{{log.time}}</text><text class="log-message">{{log.message}}</text></view></block></view></view></block></view>