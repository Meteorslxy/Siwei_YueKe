<view data-event-opts="{{[['tap',[['closeAllDropdowns',['$event']]]]]}}" class="course-container" bindtap="__e"><view class="header-background" style="{{'padding-top:'+(statusBarHeight+'px')+';'}}"><view class="app-title">四维工作室</view><view class="sub-header"><view class="city-selector"><text class="city-name">南京</text></view><view data-event-opts="{{[['tap',[['toggleGradeFilter',['$event']]]]]}}" class="grade-selector" catchtap="__e"><text class="grade-name">{{selectedGradeText}}</text><view class="{{['arrow-icon',(isGradeFilterShow)?'arrow-up':'']}}"></view></view></view><block wx:if="{{isGradeFilterShow}}"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="grade-dropdown" catchtap="__e"><view class="dropdown-options"><block wx:for="{{gradeGroups}}" wx:for-item="grade" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectGradeGroup',['$0'],[[['gradeGroups','',index,'value']]]]]]]}}" class="{{['dropdown-option',(selectedGradeGroup===grade.value)?'active':'']}}" bindtap="__e">{{''+grade.label+''}}</view></block></view></view></block><view class="filter-section"><view class="filter-dropdown"><view data-event-opts="{{[['tap',[['toggleSubjectFilter',['$event']]]]]}}" class="filter-item" catchtap="__e"><text class="filter-text">{{selectedSubject==='all'?'科目':$root.m0}}</text><view class="{{['arrow-icon',(isSubjectFilterShow)?'arrow-up':'']}}"></view></view><block wx:if="{{isSubjectFilterShow}}"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dropdown-content" catchtap="__e"><block wx:for="{{subjectOptions}}" wx:for-item="subject" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectSubject',['$0'],[[['subjectOptions','',index,'value']]]]]]]}}" class="{{['dropdown-option',(selectedSubject===subject.value)?'active':'']}}" bindtap="__e">{{''+subject.label+''}}</view></block></view></block></view><view class="filter-dropdown"><view data-event-opts="{{[['tap',[['toggleTermFilter',['$event']]]]]}}" class="filter-item" catchtap="__e"><text class="filter-text">{{selectedTerm==='all'?'学期':$root.m1}}</text><view class="{{['arrow-icon',(isTermFilterShow)?'arrow-up':'']}}"></view></view><block wx:if="{{isTermFilterShow}}"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dropdown-content" catchtap="__e"><block wx:for="{{termOptions}}" wx:for-item="term" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectTerm',['$0'],[[['termOptions','',index,'value']]]]]]]}}" class="{{['dropdown-option',(selectedTerm===term.value)?'active':'']}}" bindtap="__e">{{''+term.label+''}}</view></block></view></block></view><view class="filter-dropdown"><view data-event-opts="{{[['tap',[['toggleClassTypeFilter',['$event']]]]]}}" class="filter-item" catchtap="__e"><text class="filter-text">{{selectedCourseType==='all'?'班型':$root.m2}}</text><view class="{{['arrow-icon',(isClassTypeFilterShow)?'arrow-up':'']}}"></view></view><block wx:if="{{isClassTypeFilterShow}}"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="dropdown-content" catchtap="__e"><block wx:for="{{courseTypes}}" wx:for-item="type" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectCourseType',['$0'],[[['courseTypes','',index,'value']]]]]]]}}" class="{{['dropdown-option',(selectedCourseType===type.value)?'active':'']}}" bindtap="__e">{{''+type.label+''}}</view></block></view></block></view><view data-event-opts="{{[['tap',[['showFilterPanel',['$event']]]]]}}" class="filter-button" catchtap="__e"><view class="filter-icon"></view><text class="filter-button-text">筛选</text></view></view></view><block wx:if="{{isFilterPanelShow}}"><view data-event-opts="{{[['tap',[['hideFilterPanel',['$event']]]]]}}" class="mask" bindtap="__e"></view></block><block wx:if="{{isFilterPanelShow}}"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="{{['filter-panel',(isFilterPanelShow)?'show':'']}}" catchtap="__e"><view class="filter-panel-header"><view class="filter-section-title">类型</view><view class="filter-options"><block wx:for="{{courseTypes}}" wx:for-item="type" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectCourseType',['$0'],[[['courseTypes','',index,'value']]]]]]]}}" class="{{['filter-option-item',(selectedCourseType===type.value)?'active':'']}}" bindtap="__e">{{''+type.label+''}}</view></block></view></view><view class="filter-panel-section"><view class="filter-section-title">时间</view><view class="filter-options"><block wx:for="{{timeOptions}}" wx:for-item="time" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectTime',['$0'],[[['timeOptions','',index,'value']]]]]]]}}" class="{{['filter-option-item',(selectedTime===time.value)?'active':'']}}" bindtap="__e">{{''+time.label+''}}</view></block></view></view><view class="filter-panel-section"><view class="filter-section-title">校区</view><view data-event-opts="{{[['tap',[['toggleAllLocations',['$event']]]]]}}" class="filter-section-action" bindtap="__e"><text>不限</text><view class="arrow-icon-right"></view></view></view><view class="filter-panel-section"><view class="filter-section-title">教师</view><view data-event-opts="{{[['tap',[['toggleAllTeachers',['$event']]]]]}}" class="filter-section-action" bindtap="__e"><text>不限</text><view class="arrow-icon-right"></view></view></view><view class="filter-panel-section"><view class="filter-section-title">班主任</view><view data-event-opts="{{[['tap',[['toggleAllClassTeachers',['$event']]]]]}}" class="filter-section-action" bindtap="__e"><text>不限</text><view class="arrow-icon-right"></view></view></view><view class="filter-panel-buttons"><view data-event-opts="{{[['tap',[['resetFilters',['$event']]]]]}}" class="reset-button" bindtap="__e">重置</view><view data-event-opts="{{[['tap',[['applyFilters',['$event']]]]]}}" class="apply-button" bindtap="__e">完成</view></view></view></block><view class="course-list"><block wx:if="{{$root.g0>0}}"><block><block wx:for="{{courseList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><course-card vue-id="{{'3b395460-1-'+index}}" course="{{item}}" data-event-opts="{{[['^click',[['navigateTo',['/pages/course/detail?id='+item._id]]]]]}}" bind:click="__e" bind:__l="__l"></course-card></block></block></block><load-more vue-id="3b395460-2" status="{{loadMoreStatus}}" autoLoad="{{true}}" data-event-opts="{{[['^click',[['loadMore']]]]}}" bind:click="__e" bind:__l="__l"></load-more><block wx:if="{{$root.g1===0}}"><empty-tip vue-id="3b395460-3" tip="暂无相关课程" bind:__l="__l"></empty-tip></block></view></view>