{
	"bsonType": "object",
	"required": ["userId", "courseId", "status"],
	"permission": {
		"read": true,
		"create": true,
		"update": true,
		"delete": true
	},
	"properties": {
		"_id": {
			"description": "ID，系统自动生成"
		},
		"bookingId": {
			"bsonType": "string",
			"description": "预约编号"
		},
		"userId": {
			"bsonType": "string",
			"description": "用户ID",
			"foreignKey": "uni-id-users._id"
		},
		"courseId": {
			"bsonType": "string",
			"description": "课程ID",
			"foreignKey": "courses._id"
		},
		"courseTitle": {
			"bsonType": "string",
			"description": "课程标题",
			"trim": "both"
		},
		"courseName": {
			"bsonType": "string",
			"description": "课程名称（兼容字段）",
			"trim": "both"
		},
		"startTime": {
			"bsonType": "date",
			"description": "课程开始时间"
		},
		"endTime": {
			"bsonType": "date",
			"description": "课程结束时间"
		},
		"classTime": {
			"bsonType": "array",
			"description": "上课时间",
			"items": {
				"bsonType": "string"
			}
		},
		"courseStartTime": {
			"bsonType": "string",
			"description": "课程开始时间（字符串格式）"
		},
		"courseEndTime": {
			"bsonType": "string",
			"description": "课程结束时间（字符串格式）"
		},
		"schoolName": {
			"bsonType": "string",
			"description": "校区名称",
			"trim": "both"
		},
		"studentName": {
			"bsonType": "string",
			"description": "学生姓名",
			"trim": "both"
		},
		"contactPhone": {
			"bsonType": "string",
			"description": "联系电话",
			"trim": "both"
		},
		"teacherPhone": {
			"bsonType": "string",
			"description": "教师电话",
			"trim": "both"
		},
		"teacherName": {
			"bsonType": "string",
			"description": "教师名称",
			"trim": "both"
		},
		"remark": {
			"bsonType": "string",
			"description": "支付金额信息",
			"trim": "both"
		},
		"status": {
			"bsonType": "string",
			"description": "支付状态：unpaid-未支付，paid-已支付，cancelled-已取消，refunded-已退费",
			"enum": ["unpaid", "paid", "cancelled", "refunded"],
			"defaultValue": "unpaid"
		},
		"paymentStatus": {
			"bsonType": "string",
			"description": "支付状态：unpaid-未支付，paid-已支付，cancelled-已取消，refunded-已退费",
			"enum": ["unpaid", "paid", "cancelled", "refunded"],
			"defaultValue": "unpaid"
		},
		"createTime": {
			"bsonType": "timestamp",
			"description": "创建时间",
			"defaultValue": {
				"$env": "now"
			}
		},
		"updateTime": {
			"bsonType": "timestamp",
			"description": "更新时间",
			"defaultValue": {
				"$env": "now"
			}
		},
		"cancelTime": {
			"bsonType": "timestamp",
			"description": "取消时间"
		},
		"confirmTime": {
			"bsonType": "timestamp",
			"description": "确认时间"
		},
		"finishTime": {
			"bsonType": "timestamp",
			"description": "完成时间"
		},
		"paidTime": {
			"bsonType": "timestamp",
			"description": "支付时间，支付状态变为已支付时记录的时间"
		}
	}
}