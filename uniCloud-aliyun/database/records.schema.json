{"bsonType":"object","required":["operator_id","operator_name","operation_type","operation_time","target_collection"],"permission":{"read":true,"create":true,"update":true,"delete":true},"properties":{"_id":{"description":"ID，系统自动生成"},"operator_id":{"bsonType":"string","description":"操作人ID"},"operator_name":{"bsonType":"string","description":"操作人姓名"},"operation_type":{"bsonType":"string","description":"操作类型，如add(新增), update(更新), delete(删除), login(登录), logout(登出)等","enum":["add","update","delete","login","logout","status_change","other"]},"operation_time":{"bsonType":"timestamp","description":"操作时间","defaultValue":{"$env":"now"}},"target_collection":{"bsonType":"string","description":"操作的集合名称，如courses, bookings, teachers等"},"target_id":{"bsonType":"string","description":"操作的记录ID"},"target_name":{"bsonType":"string","description":"操作的记录名称，如课程名、教师名等，方便查看"},"previous_data":{"bsonType":"object","description":"操作前的数据状态"},"current_data":{"bsonType":"object","description":"操作后的数据状态"},"change_details":{"bsonType":"string","description":"变更详情描述，如'将预约状态从未支付修改为已支付，支付金额:100元'"},"remark":{"bsonType":"string","description":"备注信息"},"success":{"bsonType":"bool","description":"操作是否成功","defaultValue":true},"error_message":{"bsonType":"string","description":"如果操作失败，记录错误信息"}}}